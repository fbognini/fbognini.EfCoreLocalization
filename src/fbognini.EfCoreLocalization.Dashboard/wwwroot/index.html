<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EF Core Localization Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.8/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css" />
    <link rel="stylesheet" href="{{BASE_PATH}}/assets/css/site.css" />
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="{{BASE_PATH}}/languages">EF Core Localization Dashboard</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="{{BASE_PATH}}/languages" data-page="languages">Languages</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{BASE_PATH}}/texts" data-page="texts">Texts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{BASE_PATH}}/translations" data-page="translations">Translations</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <!-- Languages Page -->
        <div id="page-languages" class="page-content">
            <h2>Languages</h2>
            <div class="mb-3">
                <button class="btn btn-primary" onclick="languagesManager.showCreateModal()">Add Language</button>
            </div>
            <div class="table-responsive">
                <table id="languages-table" class="table table-sm table-hover table-bordered dt-responsive nowrap w-100" style="width:100%">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Description</th>
                            <th>Active</th>
                            <th>Default</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Texts Page -->
        <div id="page-texts" class="page-content">
            <h2>Texts</h2>
            <div class="mb-3">
                <button class="btn btn-primary" onclick="textsManager.showCreateModal()">Add Text</button>
            </div>
            <div class="table-responsive">
                <table id="texts-table" class="table table-sm table-hover table-bordered dt-responsive nowrap w-100" style="width:100%">
                    <thead>
                        <tr>
                            <th>TextId</th>
                            <th>ResourceId</th>
                            <th>Description</th>
                            <th>Created</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Translations Page -->
        <div id="page-translations" class="page-content">
            <h2>Translations</h2>
            <div class="mb-3 row">
                <div class="col-md-3">
                    <select id="filter-language" class="form-select">
                        <option value="">All Languages</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <input type="text" id="filter-textid" class="form-control" placeholder="TextId">
                </div>
                <div class="col-md-3">
                    <input type="text" id="filter-resourceid" class="form-control" placeholder="ResourceId">
                </div>
                <div class="col-md-3">
                    <button class="btn btn-primary" onclick="translationsManager.applyFilters()">Search</button>
                    <button class="btn btn-secondary" onclick="translationsManager.clearFilters()">Clear</button>
                </div>
            </div>
            <div class="table-responsive">
                <table id="translations-table" class="table table-sm table-hover table-bordered dt-responsive nowrap w-100" style="width:100%">
                    <thead>
                        <tr>
                            <th>Language</th>
                            <th>TextId</th>
                            <th>ResourceId</th>
                            <th>Translation</th>
                            <th>Updated</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Language Modal -->
    <div class="modal fade" id="language-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="language-modal-title">Add Language</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="language-form">
                        <input type="hidden" id="language-id" />
                        <div class="mb-3">
                            <label for="language-code" class="form-label">Language Code (e.g., en-US)</label>
                            <input type="text" class="form-control" id="language-code" required maxlength="5" />
                        </div>
                        <div class="mb-3">
                            <label for="language-description" class="form-label">Description</label>
                            <input type="text" class="form-control" id="language-description" required maxlength="100" />
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="language-active" />
                            <label class="form-check-label" for="language-active">Active</label>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="language-default" />
                            <label class="form-check-label" for="language-default">Default</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="languagesManager.save()">Save</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Text Modal -->
    <div class="modal fade" id="text-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="text-modal-title">Add Text</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="text-form">
                        <div class="mb-3">
                            <label for="text-id" class="form-label">TextId</label>
                            <input type="text" class="form-control" id="text-id" required maxlength="100" />
                        </div>
                        <div class="mb-3">
                            <label for="text-resourceid" class="form-label">ResourceId</label>
                            <input type="text" class="form-control" id="text-resourceid" required maxlength="50" />
                        </div>
                        <div class="mb-3">
                            <label for="text-description" class="form-label">Description</label>
                            <input type="text" class="form-control" id="text-description" maxlength="500" />
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="textsManager.save()">Save</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Translation Modal -->
    <div class="modal fade" id="translation-modal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="translation-modal-title">Edit Translation</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="translation-form">
                        <input type="hidden" id="translation-languageid" />
                        <input type="hidden" id="translation-textid" />
                        <input type="hidden" id="translation-resourceid" />
                        <div class="mb-3">
                            <label class="form-label">Language</label>
                            <input type="text" class="form-control" id="translation-language-display" readonly />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">TextId</label>
                            <input type="text" class="form-control" id="translation-textid-display" readonly />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ResourceId</label>
                            <input type="text" class="form-control" id="translation-resourceid-display" readonly />
                        </div>
                        <div class="mb-3">
                            <label for="translation-destination" class="form-label">Translation</label>
                            <textarea class="form-control" id="translation-destination" rows="5" required></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="translationsManager.save()">Save</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/date-fns@3.6.0/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@3.6.0/locale/it/cdn.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.8/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <script src="{{BASE_PATH}}/assets/js/app.js"></script>
    <script src="{{BASE_PATH}}/assets/js/fbognini-pagination-1.0.1.js"></script>
</body>
</html>